# Server Configuration
# -----------------------------------------------------------------------------
PORT=3000
NODE_ENV=development

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# Master Control Plane Database
# For local development: No authentication (simpler for dev)
# For production: Use authentication with admin/password
# MONGO_URI=mongodb://localhost:27017/litedesk

MONGO_URI=mongodb://admin:password123@localhost:27017/litedesk?authSource=admin

# MongoDB Admin URI (for provisioning new instance databases)
# Use this when creating new customer databases in production
MONGODB_ADMIN_URI=mongodb://localhost:27017/admin

# -----------------------------------------------------------------------------
# Authentication & Security
# -----------------------------------------------------------------------------
JWT_SECRET=6.6731011Kgnm2!
JWT_EXPIRE=7d

REFRESH_TOKEN_SECRET=your_refresh_token_secret_change_in_production
REFRESH_TOKEN_EXPIRE=30d

# Master API Key for inter-service communication
MASTER_API_KEY=your_master_api_key_change_in_production

# -----------------------------------------------------------------------------
# Monitoring Services
# -----------------------------------------------------------------------------
# Enable/disable background monitoring services
ENABLE_HEALTH_CHECKER=true
ENABLE_METRICS_COLLECTOR=true

# Health check interval (in milliseconds) - default: 5 minutes
HEALTH_CHECK_INTERVAL=300000

# Metrics collection interval (in milliseconds) - default: 15 minutes
METRICS_COLLECTION_INTERVAL=900000

# -----------------------------------------------------------------------------
# Multi-Instance Architecture
# -----------------------------------------------------------------------------
# Base domain for customer instances (e.g., customer.litedesk.com)
BASE_DOMAIN=litedesk.local

# Subdomain pattern: {slug}.litedesk.local or api-{slug}.litedesk.local
# For local development, you can use .local or configure /etc/hosts

# -----------------------------------------------------------------------------
# AWS Configuration (for Production)
# -----------------------------------------------------------------------------
# Leave these empty for local development
# Fill in when deploying to AWS

# AWS Credentials
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1

# Route 53 Configuration
ROUTE53_HOSTED_ZONE_ID=

# AWS SES (Email Service)
AWS_SES_REGION=us-east-1
FROM_EMAIL=noreply@litedesk.com

# -----------------------------------------------------------------------------
# Kubernetes Configuration (for Production)
# -----------------------------------------------------------------------------
# Path to kubeconfig file
# For local development with Docker Desktop: ~/.kube/config
# For production: Path to your EKS kubeconfig
KUBECONFIG_PATH=

# Kubernetes namespace prefix for customer instances
KUBERNETES_NAMESPACE_PREFIX=litedesk-

# Ingress LoadBalancer DNS (from ingress-nginx service)
# Get this after installing ingress-nginx in your cluster
INGRESS_LOADBALANCER_DNS=

# -----------------------------------------------------------------------------
# Stripe Payment Configuration (Optional)
# -----------------------------------------------------------------------------
# Leave empty for now, add when integrating payments
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

# -----------------------------------------------------------------------------
# Redis Configuration (Optional - for Bull Queue)
# -----------------------------------------------------------------------------
# Uncomment and configure if using Redis for background jobs
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# Email Configuration (Optional)
# -----------------------------------------------------------------------------
# Configure when ready to send automated emails
# EMAIL_SERVICE=ses
# EMAIL_FROM=noreply@litedesk.com
# EMAIL_REPLY_TO=support@litedesk.com

# -----------------------------------------------------------------------------
# File Storage (Optional)
# -----------------------------------------------------------------------------
# AWS S3 bucket for file uploads
# S3_BUCKET_NAME=litedesk-files
# S3_REGION=us-east-1

# -----------------------------------------------------------------------------
# Application URLs
# -----------------------------------------------------------------------------
# Master Control Plane URLs
FRONTEND_URL=http://localhost:5173
BACKEND_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
# Enable/disable features during development
ENABLE_DEMO_CONVERSION=true
ENABLE_INSTANCE_PROVISIONING=true
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_STRIPE_INTEGRATION=false

# -----------------------------------------------------------------------------
# Logging & Debugging
# -----------------------------------------------------------------------------
# Log level: error, warn, info, debug
LOG_LEVEL=info

# Enable detailed logging for specific modules
DEBUG_PROVISIONING=false
DEBUG_KUBERNETES=false
DEBUG_DATABASE=false
DEBUG_DNS=false

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# API rate limiting (requests per window)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# MongoDB
#MONGODB_URI=mongodb+srv://litedeskadmin:TKvtQbKGOWdfP5C1@litedeskdb.qzw4euo.mongodb.net/litedesk?retryWrites=true&w=majority&appName=litedeskdb

# JWT Secrets
#JWT_SECRET=38b1fe631b2f5351d52b801bc9f1d2d7b929285a31b7b43d7ad05f86865a1b1e573e37a9afecbc2b3a71fad3c6365938e24b64aa3493eb5a1b6c267e72fbf87e
#REFRESH_TOKEN_SECRET=0c123f027af3ef2b60969ae94b3e7b259cf6fc0aafe120ce639dd7f11229c373b3858d786fb7a2081fed58dbab5dd1e7ada4091e2af841465ba8560a953a61aa

# Master API Key
#MASTER_API_KEY=2b0fca931eca5ffffcaab0ca70a872c5b232b131340fe30acebadd844bfa8b8e

# Frontend URL
#CLIENT_URL=http://13.203.208.47
#CORS_ORIGINS=http://13.203.208.47,https://13.203.208.47,http://localhost:5173

# Admin Defaults
#DEFAULT_ADMIN_EMAIL=admin@litedesk.com
#DEFAULT_ADMIN_PASSWORD=Admin@123456
